<!DOCTYPE html>
<html lang="en"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      xmlns:th="http://www.thymeleaf.org/">
<!--/*@thymesVar id="user" type="me.devld.tour.dto.user.UserProfile"*/-->
<head>
  <meta charset="UTF-8">
  <title th:text="#{app.name}"></title>
  <link rel="icon" th:href="@{/static/favicon.ico}">
  <script th:src="@{/static/js/tour.js}"></script>
  <link rel="stylesheet" th:href="@{/static/css/common.css}">
</head>
<body>
<div sec:authorize="isAuthenticated()">
  <h2 th:text="#{ui.welcome(${user.nickname})}"></h2>
  <a class="link" th:href="@{/user}" th:text="#{ui.my_profile}"></a>
  <button onclick="Tour.Auth.logout()">注销</button>
</div>
<div sec:authorize="!isAuthenticated()">
  <button onclick="Tour.Auth.showAuthDialog()" th:text="#{ui.login}"></button>
</div>

<div class="spot-edit">
  <div id="spot">
    <spot-edit-view/>
  </div>
</div>

<script>
  new Tour.Vue({
    el: '#spot',
    components: {SpotEditView: Tour.Views.SpotEditView}
  })
</script>

</body>
</html>
